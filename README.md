# BACADO_TARDE : 자동 매매 서비스
❓ Problem1 : 서버 기반으로 24시간 작동

❓ Problem2 : 개인별 클라우드

❓ Problem3 : 수수료

‼ Idea1 : 증권사 API를 통해 다양한 매매 기능을 구현할 수 있도록 하자.

‼ Idea2 : 퀀트프로그램과 연결해서 사용할 수 있도록 하자.

💯 Solution : API 기반 자체 매매 프로그램 + 퀀트 프로그램

# 사용기술
- C#, Visual Studio(2019), Github

# 사용 API
- Kiwoom_open_api : 매매 기능

# 참고 회사
- 팡규의 자동 매매 프로그램, 번개트레이더

# 참고 자료
- 사이트 : https://fors.tistory.com/355
- 사이트 : https://joel-helloworld.tistory.com/68

# 디자인
- FORM1 : 자동실행 및 업데이트
<img width="233" alt="image" src="https://github.com/krkr5628/trade_c-/assets/75410553/5de516e9-cdf4-46d1-8b39-cbd821ea8830">

- FORM2 : 매매 확인
<img width="1253" alt="image" src="https://github.com/krkr5628/trade_c-/assets/75410553/c50bb531-eb35-45ec-a376-28d40facef9a">

- FORM3 : 매매 설정
<img width="796" alt="image" src="https://github.com/krkr5628/trade_c-/assets/75410553/93d82459-ebd8-448b-a7b7-d2b95e95adb1">

# 특징
- 실시간 조건 검색을 통해 매수 매도를 할 수 있다.
- Telegram을 통해 매매 현황을 보고받을 수 있다.
- 퀀트 프로그램과 연계할 수 있다.(계획중)
- KIS(한국투자증권)과 연계하여 거래할 수 있다.(진행중)
- 개인 서버를 통해 24시간 감시 가능하다.
- 
# 기본 기능 요약
- 특정 시간에 프로그램 가동 및 종료 기능
- 조건식 설정을 통한 실시간 매수매도 기능

# 사용자 매매 타입
- 매수조건 : 매수 기능만 실행하며 사용자가 수동으로 매도
- 매도조건 : HTS 혹은 MTS를 통해 매수하고 자동으로 조건 매도 혹은 운영 시간 매도
- 매수 매도 : 매수 시간에 조건에 해당하는 종목 편입, 이후 매도 시간에 해당하는 종목 편입과 매도, 동시에 운영 시간에 따른 기본 매도 실행
- 없음 : 종목 검색 기능만 수행

# 5가지 매매 상태
- 대기 : 편입 후 아무 동작 없음 OR 중복 매수가 가능한 상태
- 호출 : 복수조건식 AND 모드에 대한 거래
- 매수중 : 매수 주문이 들어간 상태
- 매수확인 : 매수가 완료된 상태
- 매도중 : 매도 주문이 들어간 상태
- 매도확인 : 매도가 완료된 상태

# 시간
- 운영 시간 : 기본 매도(익절, 손실)에 대한 작동 시간
- 매수 시간 : 매수 조건에 대하여 종목 편입과 매수 주문 가능 시간
- 매도 시간 : 매도 조건에 대하여 종목 편입과 매도 주문 가능 시간
- 청산 시간 : 청산 기능 작동 시각

# 매수 거래(조건식 거래, 비율, 금액, 개수를 기준으로)
- 단일 조건식 모드 : 단일 조건식만 활용하여 거래
- 복수 조건식 OR모드 : 2개 이상의 조건식에 등작한 각 종목에 대해 조건식 상관없이 거래
- 복수 조건식 AND 모드 : 2개 이상의 조건식에서 모두 등장한 종목에 대해 거래
- 복수 조건식 개별 모드 : 2개 이상의 조건식에 대하여 각 조건식에 대하여 개별 거래

# 매도 거래(매도 조건식 OR 실시간 시세 호출 OR 200ms 마다 Table 검사)
- 일반 매도 : 지정가, 시장가 매매 수행
- 조건식 매도(진행중) : 일반 조건식 검색에 할당된 매도 조선식에서 검출된 종목에 대하여 지정가 혹은 시장가 매매 수행
- 청산 매도 : 지정 시간에 대하여 전체 청산, 이익 청산, 손실 청산 기능을 수행

# 매매 시간
- 정규장 : 09:00:00 ~ 15:30:00
- 시간외종가 : 15:40:00 ~ 16:00:00
- 시간외단일가 : 16:00:00 ~ 18:00:00

# 기타 설정
- 매수 텀 : 매수 이후 다음 매수까지의 지연 시간
- 매도 텀 : 매도 이후 다음 매도까지의 지연 시간

# 동작 순서
- 시간 표시 작동, 테이블 세팅
- 저장된 설정 사항 불러오기
- 로그인 동작
- 로그인 성공시 사용자 정보 받아오기
- 조건식, 예수금, 계좌 잔고 받아오기
- 계좌잔고를 바탕으로 TABLE에 실시간 정보 추가
- 실시간 조건 검색 시작
- 실시간 종목 편입 및 계좌 200ms 감시 그리고 매수 조건시간 등을 통한 매수 실시 그리고 TABLE 편입 시간 내림차순 정렬
- 보유 종목 수와 매매 횟수 등을 확인
- 매수 주문 후 매수 체결 현황 파악
- 매수 완료 후 잔고 정보 업데이트 및 세금 업데이트
- 실시간 매도 종목 편입 및 계좌 200ms 감시 그리고 조건시간 등을 통한 매도 실시
- 비율, 금액 등의 조건을 확인하여 매도 동작 수행
- 매도 주문 후 매도 체결 현황 파악
- 매도 완료 후 잔고 정보 업데이트, 예수금 업데이트, 수익 및 세금 정보 업데이트
- 중복 매수 허용할 경우 매도 완료 후 대기로 재진입하여 다시 매수 할 수 있도록 실시

# (진행중)미체결
- 미체결 시간이 경과한 경우 매수를 일부 진행한 경우 매수확인으로 변경, 매수 시작도 못한 경우 대기로 변경
  
# (진행중) KIS
- 한국투자증권의 OPEN_API를 통해 거래
- 분할 숫자를 넣어서 예수금의 N비율만큼 거래
- 다중 조건식에 대하여 KIS 단일 계좌로 거래하기 위함

# (진행중) 포트폴리오
- 그동안의 매매 내역을 한번에 확인
- CSV를 통한 추출 가능

# (진행중) 업데이트 및 동의사항
- 누적 업데이트 사항
- 사용상 책임소재에 대한 동의사항

# (진행중) 설명서
- 프로그램 사용에 대한 간단한 사용설명에 대한 내용

# (계획중)웹 기능
- 다중 클라우드를 통해 거래중인 것을 한번에 관리할 것
- 시작-중단-전량매도-현재수익 등 기본 사항만 구현

